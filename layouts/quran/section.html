{{/*
Template: section.html
Purpose: Default section layout for listing pages with pagination
Params:
- .Title: Section title
- .Content: Optional section description/content
- .Pages: Collection of pages to display
Usage: Automatically used for section pages (e.g., /articles/, /quran/)
Dependencies: Bootstrap 5.3, pagination.html partial
Rules:
- Displays 50 items per page with full content preview
- Limit the pages to within current surah
Exception: None
*/}}

{{ define "main" }}
<main class="container py-5" role="main">
  <header class="row border-bottom mb-4">
    <div class="col-12">
      <h1 class="py-2 mb-4 border-bottom border-5 border-primary">{{ .Title }}</h1>
      {{ if .Content }}
      <div class="lead mb-4">{{ .Content }}</div>
      {{ end }}
    </div>
  </header>

  <section aria-label="Quran verses listing">
    {{ $paginator := .Paginate .Pages 50 }}
    {{ range $paginator.Pages }}
    <div class="row border-bottom mb-2">
      <div class="col-auto">
        <a href="{{ .RelPermalink }}" class="text-decoration-none fw-bold text-primary"
          aria-label="Go to Surah {{ .Params.surah }}, Ayah {{ .Params.ayah }}">
          {{ .Params.surah }}:{{ .Params.ayah }}
        </a>
      </div>
      <div class="col">
        <div class="lh-lg">{{ .Content }}</div>
      </div>
    </div>
    {{ end }}
  </section>

  {{ partial "pagination.html" $paginator }}
</main>
{{ end }}